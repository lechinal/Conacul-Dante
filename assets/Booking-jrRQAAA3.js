import{r as i,j as e}from"./index-6VfXyjDV.js";import{B as u}from"./Button-BJIgAZnN.js";import{r as x}from"./data-D0yAfmf_.js";const k="_sectionContainer_wm90j_1",f="_bookingContainer_wm90j_7",b="_bookingForm_wm90j_16",v="_formGroup_wm90j_24",N="_inputError_wm90j_53",C="_errorMessage_wm90j_57",_="_buttonBox_wm90j_62",E="_submitButton_wm90j_69",O="_successMessage_wm90j_90",s={sectionContainer:k,bookingContainer:f,bookingForm:b,formGroup:v,inputError:N,errorMessage:C,buttonBox:_,submitButton:E,successMessage:O};function I(){const[n,l]=i.useState({name:"",email:"",phone:"",checkIn:"",checkOut:"",guests:1,room:"",specialRequests:""}),[o,h]=i.useState({}),[p,m]=i.useState(!1);i.useEffect(()=>{const a=localStorage.getItem("pendingBooking");a&&l(JSON.parse(a))},[]);const r=a=>{const{name:t,value:c}=a.target;l(j=>({...j,[t]:c}))},d=()=>{const a={},t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,c=/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/;return n.name.trim()||(a.name="Numele este obligatoriu"),t.test(n.email)||(a.email="Email invalid"),c.test(n.phone)||(a.phone="Număr de telefon invalid"),n.checkIn||(a.checkIn="Data check-in este obligatorie"),n.checkOut||(a.checkOut="Data check-out este obligatorie"),new Date(n.checkOut)<=new Date(n.checkIn)&&(a.checkOut="Data check-out trebuie să fie ulterioară datei check-in"),n.room||(a.room="Selectați o cameră"),a},g=a=>{a.preventDefault();const t=d();if(Object.keys(t).length===0){localStorage.setItem("pendingBooking",JSON.stringify(n)),m(!0),l({name:"",email:"",phone:"",checkIn:"",checkOut:"",guests:1,room:"",specialRequests:""}),localStorage.removeItem("pendingBooking");const c=`mailto:contact@conaculuidante.ro?subject=Cerere Rezervare&body=
        Nume: ${n.name}
        Email: ${n.email}
        Telefon: ${n.phone}
        Check-in: ${n.checkIn}
        Check-out: ${n.checkOut}
        Număr Oaspeți: ${n.guests}
        Cameră: ${n.room}
        Cerințe Speciale: ${n.specialRequests}
      `;setTimeout(()=>{window.open(c,"_blank")},0)}else h(t)};return p?e.jsxs("div",{className:s.successMessage,children:[e.jsx("h2",{children:"Rezervarea a fost trimisă!"}),e.jsx("p",{children:"Vă mulțumim. Un reprezentant vă va contacta în curând pentru confirmare."}),e.jsx(u,{onClick:()=>m(!1),children:"Faceți altă rezervare"})]}):e.jsx("section",{className:s.sectionContainer,children:e.jsxs("div",{className:s.bookingContainer,children:[e.jsx("h1",{children:"Rezervare"}),e.jsxs("form",{onSubmit:g,className:s.bookingForm,children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Nume Complet"}),e.jsx("input",{type:"text",name:"name",value:n.name,onChange:r,className:o.name?s.inputError:""}),o.name&&e.jsx("span",{className:s.errorMessage,children:o.name})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",name:"email",value:n.email,onChange:r,className:o.email?s.inputError:""}),o.email&&e.jsx("span",{className:s.errorMessage,children:o.email})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Telefon"}),e.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:r,className:o.phone?s.inputError:""}),o.phone&&e.jsx("span",{className:s.errorMessage,children:o.phone})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Check-in"}),e.jsx("input",{type:"date",name:"checkIn",value:n.checkIn,onChange:r,className:o.checkIn?s.inputError:""}),o.checkIn&&e.jsx("span",{className:s.errorMessage,children:o.checkIn})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Check-out"}),e.jsx("input",{type:"date",name:"checkOut",value:n.checkOut,onChange:r,className:o.checkOut?s.inputError:""}),o.checkOut&&e.jsx("span",{className:s.errorMessage,children:o.checkOut})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Număr Oaspeți"}),e.jsx("input",{type:"number",name:"guests",min:"1",max:"10",value:n.guests,onChange:r})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Cameră"}),e.jsxs("select",{name:"room",value:n.room,onChange:r,className:o.room?s.inputError:"",children:[e.jsx("option",{value:"",children:"Selectează Camera"}),x.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),o.room&&e.jsx("span",{className:s.errorMessage,children:o.room})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Cerințe Speciale"}),e.jsx("textarea",{name:"specialRequests",value:n.specialRequests,onChange:r,rows:"4"})]}),e.jsx("div",{className:s.buttonBox,children:e.jsx(u,{type:"submit",className:s.submitButton,children:"Trimite Rezervare"})})]})]})})}export{I as default};
