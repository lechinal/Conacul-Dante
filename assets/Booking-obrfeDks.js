import{r as i,j as e}from"./index-BeMUFNEW.js";import{B as g}from"./Button-Dtj5xXmI.js";import{r as j}from"./data-Bm3aXGuv.js";const k="_sectionContainer_1x5ul_1",f="_bookingContainer_1x5ul_7",b="_bookingForm_1x5ul_16",v="_formGroup_1x5ul_24",N="_inputError_1x5ul_46",C="_errorMessage_1x5ul_50",_="_buttonBox_1x5ul_55",E="_submitButton_1x5ul_62",O="_successMessage_1x5ul_83",s={sectionContainer:k,bookingContainer:f,bookingForm:b,formGroup:v,inputError:N,errorMessage:C,buttonBox:_,submitButton:E,successMessage:O};function M(){const[n,l]=i.useState({name:"",email:"",phone:"",checkIn:"",checkOut:"",guests:1,room:"",specialRequests:""}),[r,u]=i.useState({}),[h,m]=i.useState(!1);i.useEffect(()=>{const a=localStorage.getItem("pendingBooking");a&&l(JSON.parse(a))},[]);const o=a=>{const{name:t,value:c}=a.target;l(x=>({...x,[t]:c}))},p=()=>{const a={},t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,c=/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/;return n.name.trim()||(a.name="Numele este obligatoriu"),t.test(n.email)||(a.email="Email invalid"),c.test(n.phone)||(a.phone="Număr de telefon invalid"),n.checkIn||(a.checkIn="Data check-in este obligatorie"),n.checkOut||(a.checkOut="Data check-out este obligatorie"),new Date(n.checkOut)<=new Date(n.checkIn)&&(a.checkOut="Data check-out trebuie să fie ulterioară datei check-in"),n.room||(a.room="Selectați o cameră"),a},d=a=>{a.preventDefault();const t=p();if(Object.keys(t).length===0){localStorage.setItem("pendingBooking",JSON.stringify(n)),m(!0);const c=`mailto:contact@conaculuidante.ro?subject=Cerere Rezervare&body=
        Nume: ${n.name}
        Email: ${n.email}
        Telefon: ${n.phone}
        Check-in: ${n.checkIn}
        Check-out: ${n.checkOut}
        Număr Oaspeți: ${n.guests}
        Cameră: ${n.room}
        Cerințe Speciale: ${n.specialRequests}
      `;window.location.href=c}else u(t)};return h?e.jsxs("div",{className:s.successMessage,children:[e.jsx("h2",{children:"Rezervarea a fost trimisă!"}),e.jsx("p",{children:"Vă mulțumim. Un reprezentant vă va contacta în curând pentru confirmare."}),e.jsx("button",{onClick:()=>m(!1),children:"Faceți altă rezervare"})]}):e.jsx("section",{className:s.sectionContainer,children:e.jsxs("div",{className:s.bookingContainer,children:[e.jsx("h1",{children:"Rezervare"}),e.jsxs("form",{onSubmit:d,className:s.bookingForm,children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Nume Complet"}),e.jsx("input",{type:"text",name:"name",value:n.name,onChange:o,className:r.name?s.inputError:""}),r.name&&e.jsx("span",{className:s.errorMessage,children:r.name})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",name:"email",value:n.email,onChange:o,className:r.email?s.inputError:""}),r.email&&e.jsx("span",{className:s.errorMessage,children:r.email})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Telefon"}),e.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:o,className:r.phone?s.inputError:""}),r.phone&&e.jsx("span",{className:s.errorMessage,children:r.phone})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Check-in"}),e.jsx("input",{type:"date",name:"checkIn",value:n.checkIn,onChange:o,className:r.checkIn?s.inputError:""}),r.checkIn&&e.jsx("span",{className:s.errorMessage,children:r.checkIn})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Check-out"}),e.jsx("input",{type:"date",name:"checkOut",value:n.checkOut,onChange:o,className:r.checkOut?s.inputError:""}),r.checkOut&&e.jsx("span",{className:s.errorMessage,children:r.checkOut})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Număr Oaspeți"}),e.jsx("input",{type:"number",name:"guests",min:"1",max:"10",value:n.guests,onChange:o})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Cameră"}),e.jsxs("select",{name:"room",value:n.room,onChange:o,className:r.room?s.inputError:"",children:[e.jsx("option",{value:"",children:"Selectează Camera"}),j.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),r.room&&e.jsx("span",{className:s.errorMessage,children:r.room})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Cerințe Speciale"}),e.jsx("textarea",{name:"specialRequests",value:n.specialRequests,onChange:o,rows:"4"})]}),e.jsx("div",{className:s.buttonBox,children:e.jsx(g,{type:"submit",className:s.submitButton,children:"Trimite Rezervare"})})]})]})})}export{M as default};
